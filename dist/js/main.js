"use strict";var onboarding=!0,looping=!0;function startBubbleTones(){endOnboarding(),setupAudioPlayback(),createOffscreenCanvas(),createBubbles()}function endOnboarding(){document.querySelector(".onboarding-container").classList.add("onboarding-container-hidden"),onboarding=!1}function setSizes(){var e=window.innerWidth,t=window.innerHeight;bubbleSize=(bubbleFillSize=1800<e&&800<t?32:900<e&&600<t?24:16)+bubbleStrokeSize,toneSeparation=.99*(desiredSeparation=e<t?.1*t:.1*e)}function getRandomNumber(e,t){return Math.random()*(t-e)+e}function remapNumber(e,t,o,a,i){return(e-t)*(i-a)/(o-t)+a}window.onload=function(){setupInteraction(),document.addEventListener("click",function(e){onboarding&&startBubbleTones()})};var bubbleFillSize,bubbleSize,diffRepulsion,keyRepulsion,noteRepulsion,offCanvas,bubbles=[],bubbleStrokeSize=2,bubbleMass=5,bubbleTempo=2,bubbleColorDefault=["#E3E6F2","#BDC2CB"],bubbleColors=[["#EC88C0","#D96EB2"],["#48CFAE","#37BB9B"],["#FFCF55","#F6BB43"],["#4FC0E8","#3CAEDA"],["#AC91EE","#967BDC"],["#ED5564","#DA4553"],["#5D83ED","#4A71DE"],["#A0D368","#8CC051"]];function createBubbles(){setSizes(),initializeBubbles(),updateAttractForces("note")}function initializeBubbles(){var e=rootTones.length;(cw<400||ch<400)&&(e=rootTones.length-1);for(var t=0,o=0;o<e;o++)for(var a=0;a<intervals.length;a++){for(var i=void 0,n=void 0;!1===checkBubblePositions(i=Math.round(getRandomNumber(0,cw)),n=Math.round(getRandomNumber(0,ch))););var s=remapNumber(o,rootTones.length-1,0,.5,2.5),r=remapNumber(a,intervals.length-1,0,.5,2.5),l=bassWave;o%2==1&&(l=celesteWave);var u=new Bubble(i,n,s+r,o,a,l,t);bubbles.push(u),t++}}function checkBubblePositions(e,t){if(bubbles.length<2)return!0;for(var o=0;o<bubbles.length;o++){if(getBubbleDist(createVector(e,t),bubbles[o].pos)<=toneSeparation)return!1}return!0}function getBubbleDist(e,t){return p5.Vector.dist(e,t)}function updateAttractForces(e){diffRepulsion=keyRepulsion=noteRepulsion=1.35,"note"===e?noteRepulsion=.25:"key"===e?keyRepulsion=.25:"unlike"===e&&(diffRepulsion=.25)}function Bubble(e,t,o,a,i,n,s){this.pos=createVector(e,t),this.vel=createVector(1,1),this.acc=createVector(0,0),this.m=o,this.d=bubbleSize,this.maxForce=.5,this.maxVelocity=3,this.keyId=a,this.noteId=i,this.wave=n,this.id=s,this.active=!1,this.activeTimer=0,this.offX=this.noteId*(2*this.d),this.offY=0}Bubble.prototype.render=function(){this.update(),this.display(),this.checkEdges()},Bubble.prototype.toggle=function(){this.active=!0,this.activeTimer=12},Bubble.prototype.display=function(){0<this.activeTimer?(image(offCanvas,this.pos.x-this.d/2,this.pos.y-this.d/2,this.d,this.d,this.offX,this.offY,2*this.d,2*this.d),this.activeTimer--):(image(offCanvas,this.pos.x-this.d/2,this.pos.y-this.d/2,this.d,this.d,8*this.d*2,this.offY,2*this.d,2*this.d),this.active=!1)},Bubble.prototype.update=function(){this.vel.add(this.acc),this.pos.add(this.vel),this.acc.mult(0),this.vel.limit(this.maxVelocity)},Bubble.prototype.applyBehaviors=function(e){var t=diffRepulsion;if(this.keyId===e.keyId&&(t=keyRepulsion),this.noteId===e.noteId&&(t=noteRepulsion),null!=e){var o=this.separate(e),a=this.seek();null!=o&&(o.mult(t),this.applyForce(o),this.applyForce(a))}},Bubble.prototype.applyForce=function(e){var t=e.copy();t.div(this.m),this.acc.add(t)},Bubble.prototype.separate=function(e){var t=getBubbleDist(this.pos,e.pos);if(0<t&&t<desiredSeparation){var o=p5.Vector.sub(this.pos,e.pos);o.normalize(),o.mult(this.maxVelocity);var a=p5.Vector.sub(o,this.vel);return a.mult(1),a}},Bubble.prototype.seek=function(){var e=createVector(cw/2,ch/2),t=p5.Vector.sub(e,this.pos);t.normalize(),t.mult(this.maxVelocity);var o=p5.Vector.sub(t,this.vel);return o.limit(this.maxForce),o.mult(.25),o},Bubble.prototype.connectBubbles=function(e){stroke(bubbleColors[this.noteId][1]),strokeWeight(2),line(this.pos.x,this.pos.y,e.pos.x,e.pos.y)},Bubble.prototype.play=function(){playTone(this)},Bubble.prototype.checkEdges=function(){this.pos.y<0&&(this.pos.y=ch),this.pos.x>cw&&(this.pos.x=0),this.pos.y>ch&&(this.pos.y=0),this.pos.x<0&&(this.pos.x=cw)};var cw,ch,bgCanvas,desiredSeparation,toneSeparation,n=9;function createOffscreenCanvas(){drawOffscreenBubbles(offCanvas=createGraphics(n*bubbleSize*2,2*bubbleSize))}function drawOffscreenBubbles(e){for(var t=2*bubbleSize,o=0;o<n;o++){8<=o?(e.fill(bubbleColorDefault[0]),e.stroke(bubbleColorDefault[1])):(e.fill(bubbleColors[o][0]),e.stroke(bubbleColors[o][1])),e.strokeWeight(2*bubbleStrokeSize);var a=t/2+o*t,i=t/2;e.ellipseMode(CENTER),e.ellipse(a,i,2*bubbleFillSize)}}function setCanvasSize(){var e=document.querySelector("#control-bar").clientHeight+2;cw=window.innerWidth,ch=window.innerHeight-e}function setup(){setCanvasSize(),setSizes(),canvas=createCanvas(cw,ch),canvas.parent("main-container"),canvas.id("canvas"),(bgCanvas=createGraphics(cw,ch)).background(color("#F8F9FC")),angleMode(DEGREES)}function draw(){image(bgCanvas,0,0);for(var e=0;e<bubbles.length;e++){for(var t=0;t<bubbles.length;t++){if(e!=t)bubbles[e].applyBehaviors(bubbles[t]),getBubbleDist(bubbles[e].pos,bubbles[t].pos)<toneSeparation&&(bubbles[e].toggle(),bubbles[e].play(),bubbles[e].connectBubbles(bubbles[t]))}bubbles[e].render()}}function windowResized(){location.reload(),setCanvasSize(),resizeCanvas(cw,ch)}function setupInteraction(){var e=document.querySelector("#play-toggle");e.addEventListener("click",function(e){e.target.blur(),togglePlaying(),e.preventDefault()},!1),e.addEventListener("touchend",function(e){e.target.blur(),togglePlaying(),e.preventDefault()},!1);var t=document.querySelector("#tone");t.addEventListener("input",function(e){setKey(Number(this.value)),t.setAttribute("aria-valuenow",this.value)},!1),document.querySelector(".attraction-selector").addEventListener("click",function(e){updateAttractForces(e.target.value),updateToggleStatus(e)},!1),document.querySelector("#about-modal-open").addEventListener("click",function(e){document.querySelector("#about-modal").classList.add("visible"),e.target.blur()},!1),document.querySelector("#about-modal-close").addEventListener("click",function(e){document.querySelector("#about-modal").classList.remove("visible"),e.target.blur()},!1)}function togglePlaying(){var e=document.querySelector("#play-toggle");looping=looping?(noLoop(),e.classList.remove("pause-btn"),e.classList.add("play-btn"),!1):(loop(),e.classList.remove("play-btn"),e.classList.add("pause-btn"),!0)}function updateToggleStatus(e){for(var t=document.querySelectorAll(".toggle"),o=0;o<t.length;o++)t[o].classList.remove("selected");e.target.classList.add("selected")}document.addEventListener("keydown",function(e){" "!=e.key&&"Spacebar"!=e.key||togglePlaying(),"Tab"===e.key&&(console.log("tab key man"),document.body.classList.add("user-is-tabbing"))});var rootTones,audioCtx,masterGainNode,bassWavetableSource={real:[0,.498544,-.052193,-.019862,-.002256,.001649,-894e-6,596e-6,24e-5,-181e-6,325e-6,-88e-6,22e-6,33e-6,-49e-6,39e-6,-38e-6,36e-6,1e-6,4e-6,-7e-6,6e-6,-14e-6,22e-6,-13e-6,-12e-6,6e-6,4e-6,-5e-6,2e-6,-2e-6,-6e-6,1e-6,16e-6,-19e-6,3e-6,4e-6,7e-6,-7e-6,-4e-6,0,1e-6,1e-5,-7e-6,2e-6,1e-6,-1e-6,-6e-6,13e-6,-3e-6,9e-6,-13e-6,1e-6,2e-6,11e-6,-6e-6,1e-6,3e-6,-9e-6,-9e-6,-6e-6,-6e-6,-4e-6,-1e-6,-7e-6,4e-6,9e-6,-1e-6,6e-6,12e-6,3e-6,4e-6,6e-6,-4e-6,-1e-6,1e-6,-8e-6,2e-6,-7e-6,-11e-6,3e-6,3e-6,-9e-6,-4e-6,-4e-6,-6e-6,2e-6,-4e-6,9e-6,5e-6,2e-6,3e-6,-1e-6,-0,1e-6,-0,-9e-6,6e-6,-6e-6,-0,-8e-6,1e-6,-1e-6,-4e-6,3e-6,-0,-2e-6,2e-6,-0,1e-6,6e-6,-4e-6,-5e-6,5e-6,-2e-6,-4e-6,-15e-6,-9e-6,-5e-6,-3e-6,-7e-6,2e-6,1e-6,2e-6,1e-6,-4e-6,-3e-6,-4e-6,3e-6,4e-6,-7e-6,-2e-6,2e-6,-2e-6,-1e-6,-5e-6,-5e-6,-6e-6,4e-6,-6e-6,-8e-6,-3e-6,2e-6,-2e-6,1e-6,-4e-6,-11e-6,-1e-6,-11e-6,3e-6,-7e-6,-0,-11e-6,-7e-6,5e-6,-5e-6,-7e-6,4e-6,-4e-6,-3e-6,-1e-6,-2e-6,-2e-6,-5e-6,1e-6,-1e-6,-4e-6,-3e-6,-5e-6,-9e-6,-8e-6,5e-6,1e-6,4e-6,-7e-6,-1e-6,3e-6,-8e-6,-5e-6,-2e-6,-5e-6,2e-6,-11e-6,-1e-6,-7e-6,-11e-6,-1e-5,-12e-6,-5e-6,-6e-6,-7e-6,1e-6,-1e-6,0,4e-6,-6e-6,-1e-6,-1e-6,-9e-6,-6e-6,-8e-6,2e-6,-15e-6,-2e-6,-1e-5,-2e-6,-6e-6,2e-6,-6e-6,-6e-6,5e-6,-4e-6,-1e-6,-6e-6,-8e-6,-3e-6,-12e-6,-4e-6,-3e-6,0,-6e-6,-6e-6,-12e-6,-7e-6,-13e-6,-12e-6,-11e-6,-12e-6,-13e-6,-7e-6,-14e-6,-6e-6,-4e-6,-9e-6,-9e-6,-3e-6,-1e-6,-1e-6,3e-6,2e-6,9e-6,7e-6,12e-6,11e-6,12e-6,12e-6,12e-6,11e-6,11e-6,1e-5,9e-6,9e-6,8e-6,7e-6,7e-6,6e-6,6e-6,5e-6,5e-6,5e-6,4e-6,4e-6,4e-6,4e-6,4e-6,4e-6,4e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,0,1e-6,1e-6,1e-6,0,0,1e-6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],imag:[0,-.038133,.172877,-.018249,.007476,-.00245,.001892,-.001804,.00105,-623e-6,246e-6,-137e-6,-17e-6,31e-6,2e-6,-37e-6,31e-6,-1e-5,33e-6,-2e-5,3e-6,5e-6,-0,-14e-6,15e-6,-2e-6,11e-6,-6e-6,-14e-6,-8e-6,2e-6,1e-6,-1e-6,9e-6,2e-6,-6e-6,8e-6,-6e-6,-4e-6,-6e-6,-6e-6,-6e-6,-7e-6,-5e-6,-2e-6,8e-6,-5e-6,-3e-6,1e-5,7e-6,2e-6,3e-6,-4e-6,1e-5,-0,3e-6,-2e-6,5e-6,-3e-6,1e-6,4e-6,-9e-6,-1e-6,-7e-6,-2e-6,-9e-6,-1e-6,1e-6,-0,1e-5,-12e-6,-5e-6,1e-5,-5e-6,1e-6,5e-6,3e-6,5e-6,6e-6,-1e-6,-9e-6,2e-6,2e-6,-6e-6,1e-5,-1e-5,-4e-6,-1e-6,-0,7e-6,-7e-6,-1e-6,-0,-5e-6,-1e-6,-0,6e-6,-8e-6,5e-6,-6e-6,1e-6,-5e-6,-2e-6,-1e-6,2e-6,-2e-6,1e-6,-2e-6,-1e-6,1e-6,4e-6,6e-6,7e-6,0,4e-6,1e-6,-1e-6,-3e-6,1e-6,-1e-6,-2e-6,6e-6,-0,-1e-6,0,8e-6,1e-6,-3e-6,-4e-6,6e-6,-7e-6,-5e-6,-0,0,-3e-6,7e-6,3e-6,2e-6,7e-6,-8e-6,1e-6,3e-6,-4e-6,2e-6,-0,1e-5,-1e-6,1e-6,5e-6,-6e-6,1e-6,9e-6,0,7e-6,9e-6,3e-6,5e-6,1e-6,-0,-0,2e-6,5e-6,4e-6,-1e-6,2e-6,13e-6,6e-6,4e-6,7e-6,1e-6,4e-6,-5e-6,5e-6,-1e-6,-1e-6,-7e-6,7e-6,-2e-6,-6e-6,2e-6,-0,7e-6,-2e-6,1e-5,-4e-6,4e-6,4e-6,-8e-6,-2e-6,-6e-6,5e-6,7e-6,1e-6,7e-6,7e-6,5e-6,7e-6,5e-6,3e-6,2e-6,5e-6,4e-6,1e-6,0,3e-6,8e-6,7e-6,4e-6,-4e-6,7e-6,-2e-6,1e-6,-0,6e-6,-5e-6,8e-6,-7e-6,-1e-6,-3e-6,-4e-6,6e-6,-4e-6,6e-6,5e-6,5e-6,6e-6,1e-6,5e-6,7e-6,8e-6,11e-6,9e-6,2e-5,21e-6,13e-6,26e-6,18e-6,2e-5,15e-6,21e-6,18e-6,16e-6,15e-6,14e-6,1e-5,9e-6,7e-6,6e-6,4e-6,3e-6,2e-6,2e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,0,1e-6,1e-6,1e-6,0,0,1e-6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,-0,-0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,-0,-0,0,0,-0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,-0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,-0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,-0,0,0,0,0,-0,-0,0,-0,-0,0,0,-0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,-0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,-0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,-0,-0,-0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,-0,0,0,0,0,-0,-0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,-0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,-0,-0,0,0,0,-0,0,0,-0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,-0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,-0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,-0,0,0,-0,0,0,0,-0,0,0,-0,0,-0,0,0,-0,0,0,-0,-0,-0,0,0,0,0,0,-0,-0,0,0,0,-0,-0,0,-0,-0,0,0,0,-0,-0,0,-0,-0,0,0,0,-0,0,0,-0,-0,0,0,-0,-0,-0,0,0,0,0,0,-0,-0,-0,0,0,-0,-0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,-0,-0,0,0,0,-0,-0,-0,0,-0,0,0,0,-0,0,0,0,-0,-0,-0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,-0,0,-0,-0,-0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,-0,0,0,-0,-0,0,-0,-0,-0,0,-0,-0,-0,0,-0,-0,-0,0,0,-0,0,0,-0,-0,-0,0,0,-0,-0,0,-0,-0,-0,0,0,-0]},bassWave={real:Float32Array.from(bassWavetableSource.real),imag:Float32Array.from(bassWavetableSource.imag)},celesteWavetableSource={real:[0,-0,-.5,521e-6,-.001138,116e-6,-.001202,81e-6,-772e-6,116e-6,-752e-6,144e-6,-122e-6,27e-6,-623e-6,121e-6,-85e-6,55e-6,-175e-6,53e-6,-51e-6,52e-6,-117e-6,71e-6,-7e-5,33e-6,-42e-6,5e-5,-15e-6,25e-6,-4e-5,82e-6,-201e-6,49e-6,-25e-6,9e-6,-111e-6,81e-6,-42e-6,29e-6,-33e-6,24e-6,-33e-6,23e-6,-69e-6,82e-6,-83e-6,53e-6,-127e-6,45e-6,-8e-5,34e-6,-53e-6,29e-6,-6e-5,36e-6,-83e-6,98e-6,-102e-6,46e-6,-67e-6,71e-6,-89e-6,128e-6,-191e-6,195e-6,-266e-6,291e-6,-274e-6,245e-6,-198e-6,147e-6,-104e-6,79e-6,-65e-6,57e-6,-5e-5,45e-6,-41e-6,38e-6,-35e-6,33e-6,-3e-5,29e-6,-27e-6,26e-6,-24e-6,23e-6,-22e-6,21e-6,-2e-5,19e-6,-19e-6,18e-6,-17e-6,17e-6,-16e-6,16e-6,-15e-6,15e-6,-14e-6,14e-6,-13e-6,13e-6,-13e-6,12e-6,-12e-6,12e-6,-11e-6,11e-6,-11e-6,1e-5,-1e-5,1e-5,-1e-5,9e-6,-9e-6,9e-6,-9e-6,9e-6,-9e-6,8e-6,-8e-6,8e-6,-8e-6,8e-6,-7e-6,7e-6,-7e-6,7e-6,-7e-6,7e-6,-7e-6,7e-6,-6e-6,6e-6,-6e-6,6e-6,-6e-6,6e-6,-6e-6,6e-6,-6e-6,5e-6,-5e-6,5e-6,-5e-6,5e-6,-5e-6,5e-6,-5e-6,5e-6,-5e-6,5e-6,-5e-6,5e-6,-5e-6,4e-6,-4e-6,4e-6,-4e-6,4e-6,-4e-6,4e-6,-4e-6,4e-6,-4e-6,4e-6,-4e-6,4e-6,-4e-6,4e-6,-4e-6,4e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,1e-6,-0,1e-6,-1e-6,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0],imag:[0,.002302,-3e-6,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-1e-6,0,-0,0,-1e-6,1e-6,-1e-6,1e-6,-2e-6,2e-6,-2e-6,2e-6,-1e-6,1e-6,-1e-6,1e-6,-1e-6,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0]},celesteWave={real:Float32Array.from(celesteWavetableSource.real),imag:Float32Array.from(celesteWavetableSource.imag)},intervals=[1,5/4,4/3,1.5,2];function setKey(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:65;rootTones=[];for(var t=[1,1.5,2,2],o=0;o<t.length;o++){var a=e*t[o];rootTones.push(a)}}var toneLength=1,fadeInTime=.035,fadeOutTime=.045,gainValue=.6;function setupAudioPlayback(){setKey(),createAudioContext(),setupMasterGain()}function createAudioContext(){var e=window.AudioContext||window.webkitAudioContext;audioCtx=new e}function setupMasterGain(){(masterGainNode=audioCtx.createGain()).connect(audioCtx.destination),masterGainNode.gain.value=gainValue}function playTone(e){var t=e.wave,o=audioCtx.createPeriodicWave(t.real,t.imag),a=audioCtx.createOscillator();a.setPeriodicWave(o);var i=audioCtx.createGain(),n=audioCtx.createStereoPanner();a.connect(i),i.connect(n),n.connect(masterGainNode);var s=audioCtx.currentTime,r=remapNumber(e.pos.x,0,cw,-1,1);a.frequency.value=rootTones[e.keyId]*intervals[e.noteId],i.gain.linearRampToValueAtTime(0,s),n.pan.setValueAtTime(r,s),i.gain.linearRampToValueAtTime(gainValue,s+fadeInTime),a.start(s),i.gain.linearRampToValueAtTime(0,s+toneLength+fadeOutTime),a.stop(s+toneLength)}